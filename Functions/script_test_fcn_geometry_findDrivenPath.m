% [concatenate_LiDAR_XYZ_points_under_vehicle, concatenate_LiDAR_LLA_points_under_vehicle] = fcn_geometry_findDrivenPath(base_coordinates_LLA,... 
% concatenate_LiDAR_XYZ_points, concatenate_VehiclePose_XYZ_points, concatenate_unit_ortho_vehicle_vectors_XYZ, vehicle_half_width,flag_plot_in_3D,fig_num_3D,LLA_fig_num);

%Need to load concatenate_LiDAR_XYZ_points
%% Basic Example
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
%   ____            _        ______                           _      
%  |  _ \          (_)      |  ____|                         | |     
%  | |_) | __ _ ___ _  ___  | |__  __  ____ _ _ __ ___  _ __ | | ___ 
%  |  _ < / _` / __| |/ __| |  __| \ \/ / _` | '_ ` _ \| '_ \| |/ _ \
%  | |_) | (_| \__ \ | (__  | |____ >  < (_| | | | | | | |_) | |  __/
%  |____/ \__,_|___/_|\___| |______/_/\_\__,_|_| |_| |_| .__/|_|\___|
%                                                      | |           
%                                                      |_|          
% See: https://patorjk.com/software/taag/#p=display&f=Big&t=Basic%20Example
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%ยง

%% TEST POINTS - RUN THIS FIRST

concatenate_LiDAR_XYZ_points_test = ...
[471.457221182755	105.609415916677	-10.4697712973230
469.958476144267	106.208770714773	-10.2553560847214
470.695165138411	105.841273891717	-10.4411434644791
470.168346618053	106.024229221927	-10.3964160868595
469.934063905852	106.083082625424	-10.4014163620046
469.648613501340	106.163531772970	-10.3978873860129
469.507457820336	106.180944027751	-10.4209206807784
469.249883507622	106.251424798750	-10.4201506349990
469.145051021583	106.254070718813	-10.4487187638023
468.875785743807	106.332132545164	-10.4431373070842
468.601744718306	106.413799784842	-10.4350313316917
468.371090240715	106.476897429490	-10.4345080745880
468.082188636016	106.568238283076	-10.4202122982804
467.884577582133	106.618480985857	-10.4240767746638
467.719282179609	106.654542527847	-10.4339839244667
467.442710376388	106.744071396077	-10.4180833232490
467.157967469660	106.838978213916	-10.3987016875595
467.012741628585	106.870602933274	-10.4075679145072
466.737338734782	106.965585616100	-10.3853261661949
466.338335879831	107.119943298078	-10.3344241729671
466.061660007429	107.216927438277	-10.3103974822694
465.718010535095	107.346437411402	-10.2704628228903
465.546187706107	107.394966018225	-10.2686985997006
465.094162073136	107.581706734263	-10.1978816968403
465.179272246457	107.506357764696	-10.2563233454809
464.752714972050	107.685584007504	-10.1861805968564
464.525599854208	107.766505266488	-10.1651583494662
464.415333044729	107.789313537047	-10.1735087891782
464.138275441106	107.899532836261	-10.1349825607098
463.995868185966	107.940459698875	-10.1329147886476];

concatenate_VehiclePose_XYZ_points_test = ...
[454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895
454.268150339330	115.168502314790	-9.58265234450895];

concatenate_unit_ortho_vehicle_vectors_XYZ_test = ...
[-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0
-0.937841521813659	0.347063798115333	0];






%% Example 1 - find Driven Path

base_coordinates_LLA = [40.86368573 -77.83592832 344.189];
vehicle_half_width= (3.6576/2) * 0.40;
flag_plot_in_3D=1;
fig_num_3D=10;
LLA_fig_num=15;

[concatenate_LiDAR_XYZ_points_under_vehicle, concatenate_LiDAR_LLA_points_under_vehicle] = fcn_geometry_findDrivenPath(base_coordinates_LLA,... 
concatenate_LiDAR_XYZ_points_test, concatenate_VehiclePose_XYZ_points_test, concatenate_unit_ortho_vehicle_vectors_XYZ_test, vehicle_half_width,flag_plot_in_3D,fig_num_3D,LLA_fig_num);


%% Example 2 - find Driven Path
base_coordinates_LLA = [40.86368573 -77.83592832 344.189];
vehicle_half_width= (3.6576/2) * 0.40;
flag_plot_in_3D=1;
fig_num_3D=10;
LLA_fig_num=15;

fcn_geometry_findDrivenPath(base_coordinates_LLA,concatenate_LiDAR_XYZ_points_test, concatenate_VehiclePose_XYZ_points_test, concatenate_unit_ortho_vehicle_vectors_XYZ_test, vehicle_half_width,flag_plot_in_3D,fig_num_3D,LLA_fig_num);

